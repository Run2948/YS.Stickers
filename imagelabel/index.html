<!DOCTYPE html>
<html lang="zh-ch">

<head>
    <meta charset="UTF-8">
    <title>图片标注</title>
    <link rel="stylesheet" href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css">
    <link href="css/jquery.image-label.css" rel="stylesheet">
</head>

<body>
    <div class="btn-group-vertical" style="position:absolute;top:5%;left:1%;">

        <button type="button" class="btn btn-success demo" data-src="云梯车.png">云梯车</button>
        <button type="button" class="btn btn-success demo" data-src="人侧.png">人侧</button>
        <button type="button" class="btn btn-success demo" data-src="人正.png">人正</button>
        <button type="button" class="btn btn-success demo" data-src="分水器.png">分水器</button>
        <button type="button" class="btn btn-success demo" data-src="抢险救援车.png">抢险救援车</button>
        <button type="button" class="btn btn-success demo" data-src="指挥部.png">指挥部</button>
        <button type="button" class="btn btn-success demo" data-src="挖掘机.png">挖掘机</button>
        <button type="button" class="btn btn-success demo" data-src="排烟.png">排烟</button>
        <button type="button" class="btn btn-success demo" data-src="水罐车.png">水罐车</button>
        <button type="button" class="btn btn-success demo" data-src="消防炮.png">消防炮</button>
        <button type="button" class="btn btn-success demo" data-src="高喷.png">高喷</button>

        <button id="btnClear" type="button" class="btn btn-primary">清除</button>
        <button id="btnSave" type="button" class="btn btn-primary">保存</button>
    </div>

    <img src="demo.jpg" width="100%" height="100%" />

    <script src="http://www.jsdaima.com/Upload/1486280073/jquery-3.1.1.min.js"></script>
    <script src="https://cdn.bootcss.com/json2/20160511/json2.min.js"></script>
    <script src="js/jquery.image-label.js"></script>
    <script type="text/javascript">
        //初始化
        $('img').imageLabel();

        //加载数据
        var _arr = JSON.parse(localStorage.getItem('labelArr'));
        $('img').imageLabel('loadData', {
            data: _arr
        });

        //create
        $('#btn_TXT').click(function () {
            //$('img').imageLabel('create_text');
            $('img').imageLabel('create_text', {
                text: '文本'
            });
        });

        $('.demo').click(function () {
            $('img').imageLabel('create_icon', {
                text: './icons/' + $(this).attr("data-src")
            });
        });

        //clear
        $('#btnClear').click(function () {
            $('img').imageLabel('clear');
            $('#btnSave').click();
        });

        //save
        $('#btnSave').click(function () {
            var data = $('img').imageLabel('getData');
            localStorage.setItem('labelArr', JSON.stringify(data));
        });
    </script>
</body>

</html>